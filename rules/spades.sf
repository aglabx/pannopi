rule assembly:
    input:
        file1 = rules.rmdub.output.rmdub_out_file1,
        file2 = rules.rmdub.output.rmdub_out_file2,
    conda:
        envs.spades
    threads: workflow.cores
    output:
        assembly = config["assembly"],
        assembly_gfa = config["assembly_gfa"],
    params:
        dir = directory(config["assembly_dir"])
    shell:
        "spades.py -1 {input.file1} -2 {input.file2} -t {threads} -o {params}"